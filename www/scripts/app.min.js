"use strict";function fnbValidateInput(e){var s=!0;return $(e).find("input[data-validate=yes]").each(function(){$(this).removeClass("invalid");var e=$(this).attr("data-type"),t=$(this).attr("data-min"),a=$(this).attr("data-max");switch(e){case"string":($(this).val().length<t||$(this).val().length>a)&&($(this).addClass("invalid"),s=!1);break;case"integer":(!/^[0-9]*$/.test(String($(this).val()))||$(this).val().length<t||$(this).val().length>a)&&($(this).addClass("invalid"),s=!1);break;case"email":($(this).val().length<t||$(this).val().length>a||!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String($(this).val()).toLowerCase()))&&($(this).addClass("invalid"),s=!1);break;default:console.log("No idea how to validate that")}}),!!s}!function(p){p.fn.helpPassword=function(e){var l=p.extend({lowerCase:!1,upperCase:!1,number:!1,specialChar:!1,length:!1,constraints:{min:8,max:0}},e),t='<div class="input__helper-list">';if(l.lowerCase&&(t+='<div class="helper-item" data-check="lower">\n                                   <div class="icon-check-switch">\n                                       <i class="fas fa-circle"></i>\n                                       <i class="fas fa-check-circle"></i>\n                                   </div>\n                                   <p>lowercase character</p>\n                                </div>'),l.upperCase&&(t+='<div class="helper-item" data-check="upper">\n                   <div class="icon-check-switch">\n                       <i class="fas fa-circle"></i>\n                       <i class="fas fa-check-circle"></i>\n                   </div>\n                   <p>uppercase character</p>\n                </div>'),l.number&&(t+='<div class="helper-item" data-check="number">\n                   <div class="icon-check-switch">\n                       <i class="fas fa-circle"></i>\n                       <i class="fas fa-check-circle"></i>\n                   </div>\n                   <p>a number</p>\n                </div>'),l.specialChar&&(t+='<div class="helper-item" data-check="special">\n                   <div class="icon-check-switch">\n                       <i class="fas fa-circle"></i>\n                       <i class="fas fa-check-circle"></i>\n                   </div>\n                   <p>special character</p>\n                </div>'),l.length){var a=l.constraints.min,s=l.constraints.max,n="at least ".concat(a," characters");0!==s&&(n="between ".concat(a," and ").concat(s," characters")),t+='<div class="helper-item" data-check="length">\n                    <div class="icon-check-switch">\n                         <i class="fas fa-circle"></i>\n                         <i class="fas fa-check-circle"></i>\n                    </div>\n'+"                    <p>".concat(n,"</p>\n")+"                </div>"}return t+="</div>",p(this).closest(".form__input-group").append(t),this.on("input",function(){var e=l.constraints.min,t=l.constraints.max,a=p(this).val(),s=p(this).closest(".form__input-group").find(".input__helper-list");if(l.lowerCase){var n=p(s).find('.helper-item[data-check="lower"]');/[a-z]/.test(a)?p(n).addClass("checked"):p(n).removeClass("checked")}if(l.upperCase){var o=p(s).find('.helper-item[data-check="upper"]');/[A-Z]/.test(a)?p(o).addClass("checked"):p(o).removeClass("checked")}if(l.number){var i=p(s).find('.helper-item[data-check="number"]');/[0-9]/.test(a)?p(i).addClass("checked"):p(i).removeClass("checked")}if(l.specialChar){var c=p(s).find('.helper-item[data-check="special"]');/[!@#$%^&*(),.?":{}|<>_-]/.test(a)?p(c).addClass("checked"):p(c).removeClass("checked")}if(l.length){var r=p(s).find('.helper-item[data-check="length"]');a.length>=e&&a.length<=t?p(r).addClass("checked"):p(r).removeClass("checked")}}),this}}(jQuery),$("#password").helpPassword({lowerCase:!0,upperCase:!0,specialChar:!0,length:!0,constraints:{min:8,max:24}}),$("#frmLogin").submit(function(){return fnbValidateInput($(this))?$.ajax({method:"POST",url:"apis/api-login",data:$("#frmLogin").serialize(),dataType:"JSON"}).done(function(e){-1==e.status?swal({title:"System update",text:e.message,icon:"error"}):0==e.status?swal({title:"System update",text:e.message,icon:"warning"}):1==e.status&&(location.href="index.php")}).fail(function(){swal({title:"System update",text:"Cannot proccess your request. Please try again later (AJAX ERROR)",icon:"error"})}):console.log("Invalid input"),!1});var animationSpeed=750;function showPopup(e){var t=$("#popup");$(t).removeClass("popup-success popup-warning popup-error popup-info popup-top popup-top_active popup-bottom_active popup-bottom hidden");var a=$(t).find("#popupIcon"),s=($(t).find("#popupAction"),$(t).find("#popupContent"));$(s).text(e.content||"This is a fallback message");var n='<i class="fas fa-info"></i>';switch(e.state){case"success":$(t).addClass("popup-success"),$(a).html('<i class="fas fa-check"></i>');break;case"warning":$(t).addClass("popup-warning"),$(a).html('<i class="fas fa-exclamation-triangle"></i>');break;case"error":$(t).addClass("popup-error"),$(a).html('<i class="fas fa-bug"></i>');break;case"info":$(t).addClass("popup-info"),$(a).html(n);break;default:$(a).html(n)}switch(e.position){case"top":$(t).addClass("popup-top"),setTimeout(function(){$(t).addClass("popup-top_active")},250);break;case"bottom":$(t).addClass("popup-bottom").addClass("popup-top_bot"),setTimeout(function(){$(t).addClass("popup-bottom_active")},250)}}function closePopup(){var e=$("#popup");$(e).hasClass("popup-top")?($(e).removeClass("popup-top_active"),setTimeout(function(){$(e).removeClass("popup-top")},animationSpeed)):$(e).hasClass("popup-bottom")&&($(e).removeClass("popup-bottom_active"),setTimeout(function(){$(e).removeClass("popup-bottom")},animationSpeed))}var messageTop="Top message",messageBot="Bottom message";function openModal(e){$(".modal").addClass("open"),$(".modal").find(".title h5").text(e),$("body").css("overflow-y","hidden")}function autoresize(e){e.style.height="0px",e.style.height=e.scrollHeight+10+"px"}$("#openTop").on("click",function(){showPopup({content:messageTop,state:"warning",position:"top"})}),$("#openBot").on("click",function(){console.log("clicked"),showPopup({content:messageBot,state:"error",position:"bottom"})}),$("#adminLoginForm").submit(function(){return $.ajax({method:"POST",url:"../apis/api-login.php",data:$("#adminLoginForm").serialize(),dataType:"JSON"}).done(function(e){0==e.status?showPopup({content:e.message,state:"warning",position:"top"}):1==e.status&&(location.href="dashboard.php")}).fail(function(){showPopup({content:"Cannot process your request (AJAX error)",state:"error",position:"top"})}),!1}),$("#formIndex").submit(function(){return $.ajax({method:"POST",url:"../apis/api-handle-index.php",data:$("#formIndex").serialize(),dataType:"JSON"}).done(function(e){0==e.status?showPopup({content:e.message,state:"warning",position:"top"}):1==e.status&&showPopup({content:e.message,state:"success",position:"top"})}).fail(function(){showPopup({content:"Cannot process your request (AJAX error)",state:"error",position:"top"})}),!1}),$(function(){$("textarea").each(function(){this.style.height=this.scrollHeight+10+"px"})}),$(".textarea").keyup(function(){autoresize(this)}),$(".remove-blog-post").each(function(){$(this).click(function(){var e=this.id;return $.ajax({method:"GET",url:"../apis/api-remove-blog-post.php",data:{"blog-id":e},dataType:"JSON"}).done(function(e){e.status}).fail(function(){console.log("Ajax error")}),!1})}),$(".edit-blog-post").each(function(){$(this).click(function(){var e=this.id;console.log(e),window.location.replace("post?id="+e,"")})}),$("#add-blog-post").click(function(){$(".form-container").fadeIn()}),$("#frm-add-blog").submit(function(){return $.ajax({method:"POST",url:"../apis/api-add-blog-post.php",data:$("#frm-add-blog").serialize(),dataType:"JSON"}).done(function(e){1==e.status?console.log("blog post successfully created"):0==e.status?console.log(e.message):console.log("something is wrong")}).fail(function(){console.log("error")}),!1});var prevScrollPos=window.pageYOffset;function collapseHeader(){var e=document.querySelector(".dropdown-menu"),t=e.scrollHeight,a=e.style.transition;e.style.transition="",requestAnimationFrame(function(){e.style.height=t+"px",e.style.transition=a,requestAnimationFrame(function(){e.style.height="0px"})})}function expandHeader(){var t=document.querySelector(".dropdown-menu"),e=t.scrollHeight;t.style.height=e+"px",t.addEventListener("transitionend",function(e){t.removeEventListener("transitionend",arguments.callee),t.style.height=null})}function initCarousel(e){var t={target:this,speed:".3s",easing:"ease-in-out"},a=$(e.target).find(".carousel-slider"),s=$(e.target).find(".carousel-slide"),n=a.innerWidth(),o=$("<button />",{class:"carousel-button",id:"carPrev"}),i=$("<button />",{class:"carousel-button",id:"carNext"});$(o).append('<i class="fas fa-arrow-left"></i>'),$(i).append('<i class="fas fa-arrow-right"></i>'),$(e.target).append(o),$(e.target).append(i);var c=$(s[0]).clone(),r=$(s[s.length-1]).clone();c.attr("id","firstClone"),r.attr("id","lastClone"),c.appendTo(a),r.prependTo(a),s=$(e.target||t.target).find(".carousel-slide");var l=1;function p(e,t){s.css("transform","translateX("+-e*t+"px")}p(n,l),i.on("click",function(){l>=s.length-1||(s.css("transition","transform ".concat(e.speed||t.speed," ").concat(e.easing||t.easing)),p(n,++l))}),o.on("click",function(){l<=0||(s.css("transition","transform ".concat(e.speed||t.speed," ").concat(e.easing||t.easing)),p(n,--l))}),s.on("transitionend webkitTransitionEnd oTransitionEnd",function(){"lastClone"===s[l].id&&(s.css("transition","none"),l=s.length-2,p(n,l)),"firstClone"===s[l].id&&(s.css("transition","none"),l=s.length-l,p(n,l))})}$(window).scroll(function(){var e=window.pageYOffset;if(e<prevScrollPos)document.querySelector(".header").style.top="0";else{var t=$(".header").innerHeight();document.querySelector(".header").style.top="-"+t+"px"}prevScrollPos=e}),$(".dropper").hover(function(){expandHeader()}),$(".header").mouseleave(function(){collapseHeader()}),$(".carousel-container").each(function(){initCarousel({target:this})});