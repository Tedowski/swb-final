"use strict";function fnbValidateInput(a){var t=!0;return $(a).find("input[data-validate=yes]").each(function(){$(this).removeClass("invalid");var a=$(this).attr("data-type"),e=$(this).attr("data-min"),s=$(this).attr("data-max");switch(a){case"string":($(this).val().length<e||$(this).val().length>s)&&($(this).addClass("invalid"),t=!1);break;case"integer":(!/^[0-9]*$/.test(String($(this).val()))||$(this).val().length<e||$(this).val().length>s)&&($(this).addClass("invalid"),t=!1);break;case"email":($(this).val().length<e||$(this).val().length>s||!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String($(this).val()).toLowerCase()))&&($(this).addClass("invalid"),t=!1);break;default:console.log("No idea how to validate that")}}),!!t}!function(l){l.fn.helpPassword=function(a){var r=l.extend({lowerCase:!1,upperCase:!1,number:!1,specialChar:!1,length:!1,constraints:{min:8,max:0}},a),e='<div class="input__helper-list">';if(r.lowerCase&&(e+='<div class="helper-item" data-check="lower">\n                                   <div class="icon-check-switch">\n                                       <i class="fas fa-circle"></i>\n                                       <i class="fas fa-check-circle"></i>\n                                   </div>\n                                   <p>lowercase character</p>\n                                </div>'),r.upperCase&&(e+='<div class="helper-item" data-check="upper">\n                   <div class="icon-check-switch">\n                       <i class="fas fa-circle"></i>\n                       <i class="fas fa-check-circle"></i>\n                   </div>\n                   <p>uppercase character</p>\n                </div>'),r.number&&(e+='<div class="helper-item" data-check="number">\n                   <div class="icon-check-switch">\n                       <i class="fas fa-circle"></i>\n                       <i class="fas fa-check-circle"></i>\n                   </div>\n                   <p>a number</p>\n                </div>'),r.specialChar&&(e+='<div class="helper-item" data-check="special">\n                   <div class="icon-check-switch">\n                       <i class="fas fa-circle"></i>\n                       <i class="fas fa-check-circle"></i>\n                   </div>\n                   <p>special character</p>\n                </div>'),r.length){var s=r.constraints.min,t=r.constraints.max,i="at least ".concat(s," characters");0!==t&&(i="between ".concat(s," and ").concat(t," characters")),e+='<div class="helper-item" data-check="length">\n                    <div class="icon-check-switch">\n                         <i class="fas fa-circle"></i>\n                         <i class="fas fa-check-circle"></i>\n                    </div>\n'+"                    <p>".concat(i,"</p>\n")+"                </div>"}return e+="</div>",l(this).closest(".form__input-group").append(e),this.on("input",function(){var a=r.constraints.min,e=r.constraints.max,s=l(this).val(),t=l(this).closest(".form__input-group").find(".input__helper-list");if(r.lowerCase){var i=l(t).find('.helper-item[data-check="lower"]');/[a-z]/.test(s)?l(i).addClass("checked"):l(i).removeClass("checked")}if(r.upperCase){var n=l(t).find('.helper-item[data-check="upper"]');/[A-Z]/.test(s)?l(n).addClass("checked"):l(n).removeClass("checked")}if(r.number){var c=l(t).find('.helper-item[data-check="number"]');/[0-9]/.test(s)?l(c).addClass("checked"):l(c).removeClass("checked")}if(r.specialChar){var o=l(t).find('.helper-item[data-check="special"]');/[!@#$%^&*(),.?":{}|<>_-]/.test(s)?l(o).addClass("checked"):l(o).removeClass("checked")}if(r.length){var p=l(t).find('.helper-item[data-check="length"]');s.length>=a&&s.length<=e?l(p).addClass("checked"):l(p).removeClass("checked")}}),this}}(jQuery),$("#password").helpPassword({lowerCase:!0,upperCase:!0,specialChar:!0,length:!0,constraints:{min:8,max:24}}),$("#frmLogin").submit(function(){return fnbValidateInput($(this))?$.ajax({method:"POST",url:"apis/api-login",data:$("#frmLogin").serialize(),dataType:"JSON"}).done(function(a){-1==a.status?swal({title:"System update",text:a.message,icon:"error"}):0==a.status?swal({title:"System update",text:a.message,icon:"warning"}):1==a.status&&(location.href="index.php")}).fail(function(){swal({title:"System update",text:"Cannot proccess your request. Please try again later (AJAX ERROR)",icon:"error"})}):console.log("Invalid input"),!1});var animationSpeed=750;function showPopup(a){var e=$("#popup");$(e).removeClass("popup-success popup-warning popup-error popup-info popup-top popup-top_active popup-bottom_active popup-bottom hidden");var s=$(e).find("#popupIcon"),t=($(e).find("#popupAction"),$(e).find("#popupContent"));$(t).text(a.content||"This is a fallback message");var i='<i class="fas fa-info"></i>';switch(a.state){case"success":$(e).addClass("popup-success"),$(s).html('<i class="fas fa-check"></i>');break;case"warning":$(e).addClass("popup-warning"),$(s).html('<i class="fas fa-exclamation-triangle"></i>');break;case"error":$(e).addClass("popup-error"),$(s).html('<i class="fas fa-bug"></i>');break;case"info":$(e).addClass("popup-info"),$(s).html(i);break;default:$(s).html(i)}switch(a.position){case"top":$(e).addClass("popup-top"),setTimeout(function(){$(e).addClass("popup-top_active")},250);break;case"bottom":$(e).addClass("popup-bottom").addClass("popup-top_bot"),setTimeout(function(){$(e).addClass("popup-bottom_active")},250)}}function closePopup(){var a=$("#popup");$(a).hasClass("popup-top")?($(a).removeClass("popup-top_active"),setTimeout(function(){$(a).removeClass("popup-top")},animationSpeed)):$(a).hasClass("popup-bottom")&&($(a).removeClass("popup-bottom_active"),setTimeout(function(){$(a).removeClass("popup-bottom")},animationSpeed))}var messageTop="Top message",messageBot="Bottom message";$("#openTop").on("click",function(){showPopup({content:messageTop,state:"warning",position:"top"})}),$("#openBot").on("click",function(){console.log("clicked"),showPopup({content:messageBot,state:"error",position:"bottom"})}),$("#adminLoginForm").submit(function(){return $.ajax({method:"POST",url:"../apis/api-login.php",data:$("#adminLoginForm").serialize(),dataType:"JSON"}).done(function(a){0==a.status?showPopup({content:a.message,state:"warning",position:"top"}):1==a.status&&(location.href="dashboard.php")}).fail(function(){showPopup({content:"Cannot process your request (AJAX error)",state:"error",position:"top"})}),!1});